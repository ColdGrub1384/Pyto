--- !tapi-tbd-v2
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace, not_app_extension_safe ]
install-name:          /System/Library/PrivateFrameworks/MobileBackup.framework/MobileBackup
current-version:       1705.4
compatibility-version: 1
exports:
  - archs:              [ armv7, armv7s, arm64, arm64e ]
    symbols:            [ _BehaviorOptionsAppID, _BehaviorOptionsKey, _CryptoAcceleratorConnect, _CryptoAcceleratorDisconnect,
                          _CryptoAcceleratorEncrypt, _CryptoBufferAllocate, _CryptoBufferDuplicate, _LoggingSubsystem,
                          _MBAbsolutePathFromRootPathWithSnapshot, _MBAbsolutePathFromiCloudSnapshotPath,
                          _MBAbsolutePathFromiTunesSnapshotPath, _MBAcquireRestoreLock, _MBAssert, _MBAssertErr, _MBAssertErrV,
                          _MBAssertV, _MBAssertionFailure, _MBAssertionFailureV, _MBBackgroundRestoreSignpostHandle,
                          _MBBackupMetadataFilenames, _MBBackupReasonIsManual, _MBBackupReasonIsScheduled, _MBBackupTypeIsFull,
                          _MBBuildIsSeed, _MBBuildVersion, _MBBytesWithString, _MBCompareVersionStrings,
                          _MBContainerTypeForMCMContainerContentClass, _MBContainerTypeForString, _MBCreateRestoreDirectory,
                          _MBDataWithString, _MBDefaultDebugContext, _MBDefaultOptions, _MBDeviceBackingColor, _MBDeviceClass,
                          _MBDeviceColor, _MBDeviceCoverGlassColor, _MBDeviceEnclosureColor, _MBDeviceHousingColor,
                          _MBDeviceName, _MBDeviceSpecificLocalizedStringFromTable, _MBDeviceUDID_Legacy,
                          _MBDeviceUDID_Legacy_client, _MBDeviceUUID, _MBEmptyArray, _MBEmptyDictionary, _MBExit,
                          _MBFreeDiskSpace, _MBGetBackupDir, _MBGetCacheDir, _MBGetCleanupDir, _MBGetDefaultLog,
                          _MBGetFileIDBytes, _MBGetFileIDData, _MBGetGestaltValueForKey, _MBGetHomeDir,
                          _MBGetIncompleteRestoreDir, _MBGetLogDateFormatter, _MBGetLogDir, _MBGetRestoreDir, _MBGetSQLLog,
                          _MBGetTraceLog, _MBGroupWaitForever, _MBHTTPDateFormatter, _MBHardwareModel, _MBIsAbsolutePath,
                          _MBIsFatalErrorCode, _MBIsInternalInstall, _MBIsRunningInDaemon, _MBIsTransientErrorCode,
                          _MBIsValidRelativePath, _MBIsValidRelativePathIgnoreTilde, _MBIsiCloudSnapshotPath, _MBLocale,
                          _MBLocalizations, _MBLocalizedStringFromTable, _MBLogDeviceProperties, _MBLogStashLogs,
                          _MBLogStringForNSQualityOfService, _MBMarketingName, _MBMobileFileAttributes, _MBMobileUID,
                          _MBNameWithAction, _MBNobodyUID, _MBProductType, _MBProductVersion, _MBRandomDataWithLength,
                          _MBRandomUUID, _MBReleaseRestoreLock, _MBRemoveTemporaryPathDirectory, _MBRunLoopPerformBlockAndWait,
                          _MBSQLiteJournalSuffixes, _MBSQLitePathExtensions, _MBSemaphoreWaitForever, _MBSerialNumber,
                          _MBSetBackupDir, _MBSetBuildIsSeed, _MBSetBuildVersion, _MBSetDeviceClass, _MBSetProductVersion,
                          _MBStandardizePath, _MBStringForBackupReason, _MBStringForBackupType, _MBStringForContainerType,
                          _MBStringWithArray, _MBStringWithBytes, _MBStringWithData, _MBStringWithDate, _MBStringWithDictionary,
                          _MBStringWithLimitedArray, _MBStringWithNibbles, _MBStringWithObject, _MBStringWithSet,
                          _MBStringWithSizeInBytes, _MBStringWithXPCObject, _MBStripLogFormatString,
                          _MBSupportedProtocolVersions, _MBTemporaryPath, _MBUniqueIntegerFilenameWithDirectory,
                          _MBWeakLinkClass, _MBWeakLinkSymbol, _MCMContainerContentClassForMBContainerType,
                          _MobileBackupVersionNumber, _MobileBackupVersionString, '_OBJC_EHTYPE_$_MBException',
                          __MBGetBooleanPreference, __MBLog, __MBLogFlushDeprecated, __MBSetIsRunningInDaemon,
                          _kBehaviorOptionsDidChangeNotification, _kMBBehaviorOptionBackupFromLocalSnapshot,
                          _kMBBehaviorOptionBackupUseABC, _kMBBehaviorOptionBackupUsePowerLog,
                          _kMBBehaviorOptionCloudKitContainerKey, _kMBBehaviorOptionEnableSQLiteArchiving,
                          _kMBBehaviorOptionFixOwnershipOnFileScan, _kMBBehaviorOptionKeepDailyLocalSnapshots,
                          _kMBBehaviorOptionManifestPageSizeKey, _kMBBehaviorOptionMaxBatchCountKey,
                          _kMBBehaviorOptionMaxBatchDeleteConcurrentModifyRecordsOperationsKey,
                          _kMBBehaviorOptionMaxBatchFetchAssetSizeKey,
                          _kMBBehaviorOptionMaxBatchFetchConcurrentFetchRecordsOperationsKey,
                          _kMBBehaviorOptionMaxBatchSaveAssetSizeKey,
                          _kMBBehaviorOptionMaxBatchSaveConcurrentModifyRecordsOperationsKey, _kMBBehaviorOptionMaxBatchSizeKey,
                          _kMBBehaviorOptionMaxDomainsToBackupKey, _kMBBehaviorOptionMinimumBuildVersionForFullBackupKey,
                          _kMBBehaviorOptionRecordSaveAttempts, _kMBBehaviorOptionSQLBatchCountKey,
                          _kMBBehaviorOptionSQLBatchTimeKey, _kMBBehaviorOptionSQLTraceKey,
                          _kMBBehaviorOptionSQLiteSSpaceSavingsThreshold, _kMBBehaviorOptionSnapshotAfterForegroundRestore,
                          _kMBBehaviorOptionUseBackgroundOperationsForBackupKey, _kMBBehaviorOptionValidateFileEncoding,
                          _kMBBehaviorOptionValidateSignatureOnRestore, _kMBBehaviorOptionsChangedKeysKey,
                          _kMBBehaviorOptionsChangedKeysNotification, _kMBDownloadFileExtension,
                          _kMBManagerBackupStateChangedNotification, _kMBManagerRestoreCompleteAlertStateChangedNotification,
                          _kMBManagerRestoreStateChangedNotification, _kMBMobileUserName, _kMBSafeHarborDataDirName,
                          _kMBSafeHarborDir, _kMBSafeHarborInfoDirName, _kMBSafeHarborInfoPlistFilename, _kMBUploadFileExtension ]
    objc-classes:       [ _MBAggregateDictionary, _MBApp, _MBAppGroup, _MBAppManager, _MBAppPlugin, _MBBackgroundRestoreInfo,
                          _MBBackup, _MBBehaviorOptions, _MBConnection, _MBContainer, _MBDebugContext,
                          _MBDeviceTransferConnectionInfo, _MBDeviceTransferKeychain, _MBDeviceTransferPreflight,
                          _MBDeviceTransferProgress, _MBDeviceTransferSession, _MBDeviceTransferTask, _MBDigest, _MBDigestSHA1,
                          _MBDigestSHA256, _MBDomain, _MBDomainInfo, _MBEngine, _MBError, _MBException, _MBFileInfo,
                          _MBFileManager, _MBFileManagerDelegate, _MBFileSystemManager, _MBManager, _MBManagerClient, _MBMessage,
                          _MBProperties, _MBRestoreFailure, _MBRestoreInfo, _MBSizeInfo, _MBSnapshot,
                          _MBSourceDeviceTransferTask, _MBStateInfo, _MBSystemContainer, _MBTargetDeviceTransferTask ]
    objc-ivars:         [ _MBAggregateDictionary._scalars, _MBAppManager._containersByID, _MBAppManager._settingsContext,
                          _MBAppManager._systemDataContainersByID, _MBAppManager._systemSharedContainersByID,
                          _MBBackgroundRestoreInfo._bytesRemaining, _MBBackgroundRestoreInfo._dataClassesRemaining,
                          _MBBackgroundRestoreInfo._failedDomains, _MBBackgroundRestoreInfo.bytesRemaining,
                          _MBBackgroundRestoreInfo.dataClassesRemaining, _MBBackgroundRestoreInfo.failedDomains,
                          _MBBackup._backupUDID, _MBBackup._backupUUID, _MBBackup._deviceClass, _MBBackup._hardwareModel,
                          _MBBackup._hasBackupEnabledState, _MBBackup._isBackupEnabled, _MBBackup._isMBSBackup,
                          _MBBackup._marketingName, _MBBackup._productType, _MBBackup._restoreSystemFiles, _MBBackup._snapshots,
                          _MBBehaviorOptions._cachedPrefs, _MBBehaviorOptions._cachedPrefsQueue, _MBBehaviorOptions._conn,
                          _MBBehaviorOptions._flushLogMessages, _MBBehaviorOptions._warnForLateiTunesBackups,
                          _MBConnection._messageHandler, _MBConnection._pid, _MBConnection._processName, _MBConnection._queue,
                          _MBConnection._xpcConnection, _MBContainer._plist, _MBDebugContext._dictionary,
                          _MBDeviceTransferConnectionInfo._connectionState, _MBDeviceTransferConnectionInfo._connectionType,
                          _MBDeviceTransferKeychain._uuid, _MBDeviceTransferPreflight._activeAppleID,
                          _MBDeviceTransferPreflight._appleIDs, _MBDeviceTransferPreflight._sourceDeviceDataSize,
                          _MBDeviceTransferPreflight._targetDeviceFreeSpaceSize, _MBDeviceTransferPreflight._uuid,
                          _MBDeviceTransferProgress._bytesTransferred, _MBDeviceTransferProgress._fileTransferStartDate,
                          _MBDeviceTransferProgress._filesTransferred, _MBDeviceTransferProgress._minutesRemaining,
                          _MBDeviceTransferProgress._phaseDescription, _MBDeviceTransferProgress._progress,
                          _MBDeviceTransferProgress._restoreStartDate, _MBDeviceTransferSession._fileTransferSession,
                          _MBDeviceTransferTask._canceled, _MBDeviceTransferTask._completionError,
                          _MBDeviceTransferTask._completionHandler, _MBDeviceTransferTask._connectionInfoHandler,
                          _MBDeviceTransferTask._connectionStateHandler, _MBDeviceTransferTask._fileTransferSession,
                          _MBDeviceTransferTask._finished, _MBDeviceTransferTask._manager,
                          _MBDeviceTransferTask._progressHandler, _MBDeviceTransferTask._queue, _MBDeviceTransferTask._started,
                          _MBDeviceTransferTask._suspended, _MBDigestSHA1._context, _MBDigestSHA256._context,
                          _MBDomain._fileHandle, _MBDomain._fileHandleForSnapshot, _MBDomain._fileHandlePath,
                          _MBDomain._fileHandlePathForSnapshot, _MBDomain._hasExternalConfig, _MBDomain._isExternalConfig,
                          _MBDomain._name, _MBDomain._relativePathAggregateDictionaryGroups,
                          _MBDomain._relativePathDomainRedirects, _MBDomain._relativePathsNotToBackup,
                          _MBDomain._relativePathsNotToBackupAndRestoreToAppleTVs, _MBDomain._relativePathsNotToBackupToDrive,
                          _MBDomain._relativePathsNotToBackupToService, _MBDomain._relativePathsNotToCheckIfModifiedDuringBackup,
                          _MBDomain._relativePathsNotToMigrate, _MBDomain._relativePathsNotToRemoveIfNotRestored,
                          _MBDomain._relativePathsNotToRestore, _MBDomain._relativePathsNotToRestoreToIPods,
                          _MBDomain._relativePathsOfSystemFilesToAlwaysRemoveOnRestore,
                          _MBDomain._relativePathsOfSystemFilesToAlwaysRestore, _MBDomain._relativePathsToBackgroundRestore,
                          _MBDomain._relativePathsToBackupAndRestore, _MBDomain._relativePathsToBackupIgnoringProtectionClass,
                          _MBDomain._relativePathsToBackupToDriveAndStandardAccount,
                          _MBDomain._relativePathsToIgnoreExclusionsForDrive, _MBDomain._relativePathsToOnlyBackupEncrypted,
                          _MBDomain._relativePathsToRemoveOnRestore, _MBDomain._relativePathsToRestoreOnly,
                          _MBDomain._relativePathsToRestoreOnlyFromService, _MBDomain._rootPath, _MBDomain._shouldDigest,
                          _MBDomain._shouldRestoreRelativeSymlinks, _MBDomainInfo._domainName, _MBDomainInfo._enabled,
                          _MBDomainInfo._localSize, _MBDomainInfo._remoteSize, _MBDomainInfo._restricted,
                          _MBDomainInfo._systemApp, _MBEngine._appManager, _MBEngine._debugContext,
                          _MBEngine._deviceTransferEngine, _MBEngine._domainManager, _MBEngine._domainRestoreBehaviors,
                          _MBEngine._encrypted, _MBEngine._preflightProperties, _MBEngine._properties,
                          _MBEngine._settingsContext, _MBEngine._watchdog, _MBFileInfo._extendedAttributes,
                          _MBFileInfo._isDirectory, _MBFileInfo._path, _MBFileInfo._priority,
                          _MBFileManagerDelegate._shouldCopyItemAtPathToPath, _MBFileSystemManager._currentSnapshotName,
                          _MBFileSystemManager._currentSnapshotPath, _MBFileSystemManager._fileSystemType,
                          _MBFileSystemManager._supportsLocalSnapshots, _MBFileSystemManager._supportsSparseFiles,
                          _MBManager._delegate, _MBManagerClient._connnection, _MBManagerClient._enabledToken,
                          _MBManagerClient._eventQueue, _MBManagerClient._iTunesRestoreEndedNotificationToken,
                          _MBManagerClient._iTunesRestoreStarted, _MBManagerClient._iTunesRestoreStartedNotificationToken,
                          _MBManagerClient._privateDelegate, _MBManagerClient._shouldSupportiTunes, _MBManagerClient._stateToken,
                          _MBManagerClient._timer, _MBMessage._connection, _MBMessage._messageInfo, _MBMessage._replyInfo,
                          _MBMessage._xpcObject, _MBProperties._maxSupportedVersion, _MBProperties._minSupportedVersion,
                          _MBProperties._plist, _MBProperties._protect, _MBProperties._protected, _MBRestoreFailure._assetType,
                          _MBRestoreFailure._dataclass, _MBRestoreFailure._displayName, _MBRestoreFailure._error,
                          _MBRestoreFailure._icon, _MBRestoreFailure._identifier, _MBRestoreInfo._backupBuildVersion,
                          _MBRestoreInfo._date, _MBRestoreInfo._deviceBuildVersion, _MBRestoreInfo._wasCloudRestore,
                          _MBSizeInfo._size, _MBSizeInfo._state, _MBSnapshot._backupType, _MBSnapshot._created,
                          _MBSnapshot._date, _MBSnapshot._deviceName, _MBSnapshot._isCompatible, _MBSnapshot._modified,
                          _MBSnapshot._quotaReserved, _MBSnapshot._snapshotID, _MBSnapshot._snapshotUUID, _MBSnapshot._state,
                          _MBSnapshot._systemVersion, _MBStateInfo._date, _MBStateInfo._error, _MBStateInfo._errors,
                          _MBStateInfo._estimatedTimeRemaining, _MBStateInfo._isBackground, _MBStateInfo._isCloud,
                          _MBStateInfo._progress, _MBStateInfo._state,
                          _MBTargetDeviceTransferTask._keychainTransferCompletionHandler,
                          _MBTargetDeviceTransferTask._preflightCompletionHandler,
                          _MBTargetDeviceTransferTask._startedDataTransfer,
                          _MBTargetDeviceTransferTask._startedKeychainDataImport,
                          _MBTargetDeviceTransferTask._startedKeychainDataTransfer,
                          _MBTargetDeviceTransferTask._startedKeychainTransfer, _MBTargetDeviceTransferTask._startedPreflight ]
...
